<html>
  <head>
  	<script src="https://cdn.rawgit.com/Gmousse/dataframe-js/feature/sql/lib/browser/dataframe-min.js"></script>
  </head>
  <div></div>
  <body>
     <script>
     	// DATAFRAME
        var DataFrame = dfjs.DataFrame;

        const dict = {
	        column1: [3, 6, 8],
	        column2: [3, 4, 5, 6],
    	};

    	const table = [
	        [1, 6, 9, 10, 12],
	        [1, 2],
	        [6, 6, 9, 8, 9, 12],
    	];

    	const collection = [{
	        c1: 1,
	        c2: 6,
	        c3: 9,
	        c4: 10,
	        c5: 12,
    	}, {
	        c4: 1,
	        c3: 2,
    	}, {
	        c1: 6,
	        c5: 6,
	        c2: 9,
	        c4: 8,
	        c3: 9,
	        c6: 12,
    	}];

    	const df = new DataFrame([
	        [1, 6, 9, 10, 12],
	        [1, 2],
	        [6, 6, 9, 8, 9, 12],
    	], ['c1', 'c2', 'c3', 'c4', 'c5', 'c6']);

    	var df1 = new DataFrame(collection);
    	var df2 = new DataFrame(table);
    	var df3 = new DataFrame(dict);
    	var df4 = new DataFrame(collection, ['c1', 'c2', 'c3', 'c4', 'c5', 'c6']);

    	const df5 = new DataFrame({
	        column1: [3, 6, 8],
	        column2: ['3', '4', '5', '6'],
	        column3: [],
    	}, ['column1', 'column2', 'column3']);


    	console.log(df1);
    	console.log(df2);
    	console.log(df3);
    	console.log(df4);
    	console.log(df.dim());
    	console.log(df.toCollection(true).map(function(row){return row.toDict()}));
    	console.log(df.toText(';', false));
    	console.log(df.select('c2', 'c3', 'c4').toDict());
    	console.log(df2.show(10, true));
    	console.log(df.select('c1', 'c2', 'c3').cast('c2', String).toArray()[0]);
    	console.log(df1.count());
    	console.log(Object.is(df.map(function(row){return row.set('c1', 18), df})));

    	// SQL
    	const df6 = new DataFrame({
	        id: [3, 6, 8],
	        column1: [3, 9, 9],
	        column2: ['car', 'on the road again again', 'the fly was crashing'],
	    }, ['id', 'column1', 'column2']);

    	const df7 = new DataFrame({
	        id: [1, 0, 8],
	        column3: [2, 1, 12],
	        column4: ['bus', 'truck', 'train'],
	    }, ['id', 'column3', 'column4']);

	    df6.sql.register('tmp');
    	df7.sql.register('tmp2');
	    console.log(DataFrame.sql.listTables());

	    DataFrame.sql.registerTable(df1, 'tmp4');
	    console.log(DataFrame.sql.listTables());

	    DataFrame.sql.renameTable('tmp4', 'tmp6');
	    console.log(DataFrame.sql.listTables());

	    DataFrame.sql.dropTables();
	    console.log(DataFrame.sql.listTables());

	    df6.sql.register('tmp')
	    df7.sql.register('tmp2', true);
	    console.log(DataFrame.sql.request('SELECT * FROM tmp2').toDict());
	    console.log(df7.toDict());

	    console.log(DataFrame.sql.request('SELECT * FROM tmp JOIN tmp2 ON id').toDict());

     </script>
  </body>

</html>
